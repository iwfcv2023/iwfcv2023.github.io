# IWFCV 사이트용 자체 정의 사항 설명서

> Protip.  
> Markdown 문서는 Visual Studio Code에서 1. `ctrl`(`cmd`)+`k` 조합키 2. 이후 `v` 키를 통해 렌더링하여 읽을 수 있습니다.

## 1. SASS
이 웹 사이트의 디자인 코드는 `/_sass/`에 정의되어있으나, `/assets/main.scss`가 진입점입니다.  
`/_sass` 하위에는 `iwfcv`라는 이름의 sass 패키지 코드가 정의되어 있으며, 이 코드들은 `iwfcv`라는 일종의 네임스페이스이자 테마로 한데 관리됩니다.  
따라서 디자인 코드 진입점은 `iwfcv` "테마"를 불러오는 코드만 존재합니다.  

## 3. 게시판, 카테고리, 게시물
이 웹사이트는 Jekyll의 마이크로블로그 기능을 사용하여 게시판을 지원합니다.  
단일 게시판만을 지원하지만 카테고리 기능을 사용하여 게시물을 분리할 수 있고, 카테고리에 표시용 이름을 부여할 수도 있습니다.

### 3.1. 게시물에 태그 붙이기
게시물은 Markdown 포맷으로 작성하여 `/_posts` 폴더에 `YYYY-MM-DD-SLUG.md` 형태로 저장합니다.  
게시물이 요구하는 필수 YAML 태그는 `title`과 `categories`이고, 이 둘을 제거했을 때 상황은 테스트되지 않았으므로 주의가 필요합니다.  

아래는 `/_posts/2022-05-18-category-test.md` 파일의 YAML 헤더입니다.
```md
---
title: "The Brandnew Conference has begun!"
categories: whatsnew
---
```

`title` 태그는 게시물의 제목으로, `<head>`의 `<title>` 태그의 내용과 `default` 레이아웃의 제목 부분 내용을 담당합니다.  
`categories` 태그는 게시물의 카테고리로 한 개 이상의 카테고리를 적용할 수 있습니다. (따라서 엄연히 표현하면 카테고리보다 게시물 태그에 가깝습니다.) 카테고리는 < 3.2. 카테고리의 처리 >에 따라 처리됩니다.  

### 3.2. 카테고리의 처리
YAML 헤더의 카테고리 속성은 단순한 장식이 아닙니다. Jekyll은 이 헤더를 사용하여 게시물 목록 페이지에서 해당 게시물이 어디에 위치해야 할 지를 결정합니다.  

예를 들어, 두 게시물의 카테고리가 `notice` 로 지정되있다면 게시물 목록 페이지에서 두 게시물은 `notice`라는 소제목 아래에 나타날 것입니다.  

> Protip.
> 중요한 사항은 아니나, 카테고리 그루핑 알고리즘은 Liquid 문법으로 작성되어 가장 원시적인 `O(n^2)` 알고리즘으로 구현되어 있습니다.  
> 게시물 목록 페이지를 포함해 모든 페이지를 정적 페이지로 빌드하는 Jekyll 사이트에 중요한 사항은 아니나, 게시물과 카테고리 개수가 매우 크다면 빌드 속도가 충분히 느려질 수 있습니다.  
> \- 빌드 속도만 느려지는 것이므로 실제로 서버의 응답 속도가 영향을 받지는 않습니다.

#### 3.2.1. 카테고리의 디스플레이 문자열
Jekyll의 카테고리 기능은 짧은 영문자열 즉, 태그 기능으로 의도하고 구현된 것이므로 어떤 상황에서는 부적절할 수 있습니다.  

Jekyll의 의도 사항은 `note` `notice`와 같이 소문자로 된 단어를 작성하는 것이므로 `What's New` 와 같은 대문자, 특수문자가 섞인 문자열을 사용하는 것은 적절하지 않습니다.  

위 사항으로 인한 한계를 해결하기 위해 위 영문 카테고리 단어에 "네이밍"을 추가할 수 있는 기능을 구현하였습니다. 즉, YAML 헤더의 카테고리 값은 "내부 아이디"처럼 사용할 수 있습니다.  

예를 들어 `highlights` 태그에는 `Conference Highlights` 디스플레이 네이밍이 부여되어 있습니다.  

<br>

위와 같은 카테고리 디스플레이 네이밍은 `/_data/categories.json` 파일에서 정의됩니다.  

`/_data/categories.json`
```json
{
  "__INFO__": "Category naming defines",
  "jekyll": "Default Jekyll",
  "highlights": "Conference Highlights",
  "whatsnew": "What's new"
}
```

위 정의대로라면 게시물에 `categories: jekyll` 헤더가 존재한다면 해당 게시물은 게시판 페이지에서 `Default Jekyll` 소제목 아래로 분류됩니다. 실제 작동은 사이트의 `/news` 페이지를 참조하세요.  

## 4. 유용한 Include 파일
### 4.1. Venue Image
* 위치: `_includes/venue_image.html`
* 참조: `/assets/js/mainCover.js`

이 Include 파일은 실제로 `{%- include venue_image.html -%}` 를 사용하여 여러 페이지에 사용되고 있습니다. 이 파일은 지정된 이미지들 중 적절한 페이지를 랜덤으로 보여줍니다.  

이 요소가 표시할 이미지는 `venue_image.html` 파일이 참조하고 있는 `/assets/js/mainCover.js`에서 결정됩니다.  

#### 4.1.1. mainCover.js
`mainCover.js`는 지정된 이미지들 중 임의로 선택한 이미지의 경로를 반환합니다.  

이미지 목록은 `coverImages` 변수에 선언되어 있으며, `localPath`와 `remotePath`를 속성으로 갖는 오브젝트입니다.  

`localPath`는 이 리포지토리에 이미지가 포함되어 있을 때 리포지토리 기준으로 반환할 수 있는 경로를 의미합니다. 이 경우 수월한 유지보수를 위해 이미지는 `/assets/img/mainCover` 폴더 아래에 저장하는 것을 권장합니다.  

`remotePath`는 이 리포지토리에 이미지가 포함되어 있지 않거나 저작권 문제로 리포지토리에 포함할 수 없을 때 사용하는 외부 경로입니다. 이 경로는 `localPath` 값이 `null`일 때 사용됩니다.  


### 4.2. 스폰서 요소 파일
* 위치: `_includes/sponsers.html`

스폰서 요소 파일(`sponsers.html`)은 스폰서 로고를 규칙에 맞게 반환합니다.  

푸터에서는 주로 `flex` 타입으로, 본문에서는 주로 `grid` 타입으로 사용되도록 의도되었습니다.  

하지만 스폰서 이미지 스펙은 사이트 설계 단계에서 예상할 수 없으므로 `style="height: ~em;"` 과 같이 html style 속성으로 일일이 조정하도록 준비되었습니다. 따라서 화면에 나타나는 모습을 확인하며 직접 조정해야합니다.  

코드 구현체(`/_includes/sponsers.html`)내에 예시 구현체가 있으므로 참조하세요.

### 4.3. 도입부(hero)
* 위치: `_includes/hero.html`

히어로 파일(`hero`)은 일반적인 웹사이트에서 채택하는 코드 맥락을 위해 도입하였습니다. 메인 페이지 본문의 최상단에 위치하도록 의도되었으나, 큰 역할이 부여되지 않은 파일입니다.

## 5. 기타 사항
### 5.1. 이미지
이미지는 기본적으로 둥근 모서리 형태로 표시됩니다. 하지만 모서리의 라운드 수준에 비해 이미지가 너무 작거나 라운드를 사용하는 것이 적절하지 않은 맥락에서는 이를 제거할 수 있습니다.  

`rect` 클래스를 이미지에 추가하여 제거할 수 있는데, Jekyll이 Markdown의 변형 분법인 Kramdown으로 처리하도록 설정되어 있으므로 다음과 같이 작성하여 처리할 수 있습니다: `![](path){:.rect}` 자세한 내용은 Kramdown의 HTML 속성 부여 문법을 참조하세요.

### 5.2. 지도
지도는 Figma 프로토타입 앱을 사용하여 제작되었습니다.  

Figma 프로토타입 앱을 사용한 이유는 작성이 상대적으로 간편하고, "미리 보기" 기능을 embed 요소로 HTML 문서에 포함할 수 있기 때문입니다. 따라서 이 페이지에서도 미리보기 기능을 embed 요소로 불러오는 일종의 기믹을 사용하여 지도를 구현했습니다.  

따라서 지도를 수정하려면 Figma 앱을 사용해야 하며, Figma 접근 권한은 담당자에게 부여했습니다.  
